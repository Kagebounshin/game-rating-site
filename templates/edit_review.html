{% extends "base.html" %}
{% block content %}

<div class="row add-container bg-color-add">
	<form class="col s12 m8 offset-m2 l6 offset-l3" method="POST" action="{{ url_for('edit_review', review_id=review._id) }}" enctype="multipart/form-data">
		<div class="card-panel">
			<div class="row">
				<div class="col s12">
					<h1 class="center-align">
						Edit Review
					</h1>
				</div>
			</div>
			<!-- GAME TITLE FOR REVIEW -->
			<div class="row">
				<div class="input-field col s10 offset-s1">
					<input id="review_name" name="review_name"
						type="text" value="{{ review.review_name }}" class="validate" required>
					<label for="review_name"></label>
				</div>
			</div>
			<!-- CAPTURING TEXT -->
			<div class="row">
				<div class="input-field col s10 offset-s1">
					<input id="review_capture" name="review_capture"
						type="text" value="{{ review.review_capture }}" class="validate" data-length="30" required>
					<label for="review_capture">Capturing text</label>
				</div>
			</div>
			<!-- GENRE -->
			<div class="row">
				<div class="input-field col s10 offset-s1">
					<select id="genre_name" name="genre_name" class="validate" required>
						<option value="" disabled>Choose Genre</option>
						{% for genre in genres %}
							{% if genre.genre_name == review.genre_name %}
							<option value="{{ genre.genre_name }}" selected>{{ genre.genre_name }}</option>
							{% else %}
							<option value="{{ genre.genre_name }}">{{ genre.genre_name }}</option>
							{% endif %}
						{% endfor %}
					</select>
					<label for="genre_name">Genre</label>
				</div>
			</div>
			<!-- PLATFORM -->
			<div class="row">
				<div class="input-field col s10 offset-s1">
					<select id="platform_name" name="platform_name" class="validate" required>
						<option value="" disabled>Choose Platform</option>
						{% for platform in platforms %}
							{% if platform.platform_name == review.platform_name %}
								<option value="{{ platform.platform_name }}" selected>{{ platform.platform_name }}</option>
							{% else %}
								<option value="{{ platform.platform_name }}">{{ platform.platform_name }}</option>
							{% endif %}
						{% endfor %}
					</select>
					<label for="platform_name">Platform</label>
				</div>
			</div>
			<!-- DEVELOPER -->
            <div class="row">
				<div class="input-field col s10 offset-s1">
					<input id="developer_name" name="developer_name"
						value="{{ review.developer_name }}" type="text" class="validate" required>
					<label for="developer_name">Developer</label>
				</div>
			</div>
			<!-- DURATION -->
			<div class="row">
				<div class="input-field col s10 offset-s1">
					<input id="duration" name="duration"
					value="{{ review.duration }}" type="text" class="validate" required>
					<label for="duration">Duration</label>
				</div>
			</div>
			<!-- REVIEW TEXT -->
            <div class="row">
				<div class="input-field col s10 offset-s1">
					<textarea id="review_text" name="review_text" 	type="text" class="materialize-textarea validate" required>
				 		{{- review.review_text -}}
					</textarea>
					<label for="review_text">Review</label>
				</div>
			</div>
			<!-- RATING -->
			<div class="row">
				<div class="input-field col s10 offset-s1">
					<select id="rating_nr" name="rating_nr" class="validate" required>
						<option value="" disabled>(1 is Bad, 5 is Good)</option>
						{% for rating in ratings %}
							{% if rating.rating_nr == review.rating_nr %}
							<option value="{{ rating.rating_nr }}" selected>{{ rating.rating_nr }}</option>
							{% else %}
							<option value="{{ rating.rating_nr }}">{{ rating.rating_nr }}</option>
							{% endif %}
						{% endfor %}
					</select>
					<label for="rating_nr">Rating 1-5</label>
				</div>
			</div>
			<!-- IMAGE UPLOAD -->
			<div class="row">
				<div class="file-field input-field col s10 offset-s1">
					<div class="btn waves-effect waves-light btn-small">
						<span>Upload Images</span>
						<input type="file" accept="image/*" name="photo_url" id="photo_url">
					</div>
					<div class="file-path-wrapper">
						<input value="{{ review.photo_url }}"  class="file-path validate" type="text">
					</div>
				</div>
			</div>
			<!-- EDIT  BUTTON -->
			<div class="row center-align">
				<button type="submit" class="btn waves-effect waves-light btn-small s10 offset-s1">
					Edit Review
				</button>
			</div>
			<!-- CANCEL BUTTON -->
			<div class="row center-align">
				<a href="{{ url_for('profile', username=session['user']) }}" class="btn waves-effect waves-light btn-small s10 offset-s1 edit-cancel">Cancel</a>
			</div>
		</div>
	</form>
</div>

{% endblock %}